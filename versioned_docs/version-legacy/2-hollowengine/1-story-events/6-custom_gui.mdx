---
sidebar_position: 6

title: 'Кастомный интерфейс'
id: custom-gui
desc: 'NaN'
---

<div align="center">

# Кастомный интерфейс

Создание своих интерфейсов

<div className="show" id="mask">

![no-title](@site/static/img/doc/titles/CustomGUI0.webp)

</div>

всего в пару строчек скрипта

---

<br />

<div id="dont-copy">

## Виджеты

<br />

::::warning Внимание
Все ниже-перечисленное пишется в специальном методе
<div align="left">
```kts
gui {
  ... // Здесь
}
```
</div>

---

Так же если вам нужно указать отрицательное число, но это число нужно писать в скобках
<div align="left">
```kts
-15.px // Неправильно. Просто выпадет в ошибку

(-15).px // Правильно!
```
</div>

---

:::danger Выполянется единожды
Это значит что вы не сможете использовать логику внутри интерфейста.  
Забудьте про них!
::::

---

<br />

### Изображение

<br />

:::info Изображения
Можно вставить обычные изображения
<div align="left">
```kts
image("<path/to/image>") {
  ... // Общие настройки виджетов
}
```

---

```kts title="Пример"
image("docs:gui/background.png") {
  size(95.ps + 100.px + 100.px, 95.ps + 250.px + 100.px)
  offset(120.px, 175.px)
}
```
</div>

<div style={{ "scale": "0.35", "margin": "-25%" }}>

![example-image](@site/static/img/doc/gui/ExampleImage.png)

</div>

:::

---

<br />

### Текст

<br />

:::info Текст
Отображает обычный текст, который был указан в параметрах
<div align="left">
```kts
label("<text>") {
  ... // Общие настройки виджетов
}
```

---

```kts title="Пример"
label("Example text") {
  offset(0.px, (-100).px) 
}
```
</div>

![example-text](@site/static/img/doc/gui/ExampleText.png)

:::

<br />

---

<br />

### Кнопки

<br />

::::info Кнопка
Можно создать кнопку, которая после нажатия может выполнить какое-то **простое** действие
<div align="left">
```kts
button("<buttonText>", "<path/to/texture>") {
  
  /* Специальные настройки только для этого элемента */
  
  anchor = Anchor.<TYPE> // Выравнивание текста
  textOffsetX = <еденицы_измерения> // Смещение текста в кнопке по X (влево-вправо)
  textOffsetY = <еденицы_измерения> // Смещение текста в кнопке по Y (вверх-вниз)
  hoverText = "<hover_text" // Отображаемый текст при наведении на кнопку
  color = 0x<HEX> // Цвет
  hoverColor = 0x<HEX> // Цвет при наведении на кнопку
  scale = <Float> // Размер кнопки

  ... // Общие настройки виджетов

  // Метод, который запускается когда на кнопки нажали
  onClick = {
    /*
     * Тут вы сможете прописать лёгкую логику для кнопки.
     * Имейте в виду что гуи открывается всего 1 раз и ничего больше не выполняет там в цикле.
     * так что не пихайте сюда всякие `if` и врочее. Оно не будет тут работать
    */

    // Если вам нужно обновить переменную
    <переменная> = <новое_значение>

    // Если нужно закрыть данный интерфейст
    close()
  }
}
```
</div>

:::warning Текстура для кнопки
Для правильно отображения кнопки в интерфейсе, нужно нарисовать её правино, как на шаблоне ниже

<br />

<div style={{ "scale": "500%", "image-rendering": "pixelated" }}>

![example-button-texture](@site/static/img/doc/gui/ExampleButtonTexture.png)

</div>
<div align="left">

> Объяснение:
> - То, что помечено красным и текстом `NO HOVER` - бужет отображаться только эта часть тексуры,
когда кнопки находится в обычном состоянии.
> - То, что помечено синим цветом и текстом `HOVER` - будет отображаться только эта часть текстуры,
когда на кнопку навели курсор.

Простыми словами: Вам не нужно создавать 2 текстуры, а нужна всего одна. Верхняя половина будет
использоваться для отображение текстуры кнопки когда она находится в обычном состоянии. А нижняя - 
когда на кнопку навели курсор мыши.

</div>
:::

---
<div align="left">
```kts title="Пример"
button("Example button", "docs:gui/button.png") {
	size(150.px, 25.px)
	offset((-100).px, 50.px)
}
```
</div>

<div style={{ "scale": "0.5", "margin": "-7.5%" }}>

![example-button](@site/static/img/doc/gui/ExampleButton.png)

</div>

::::

<br />

---

<br />

### Сущность

<br />

::::info Сущность
Можно отображать либо НИПа, либо игрока

<div align="left">

```kts
entity(<Entity>) {
  
  /* Специальные настройки только для этого элемента */
  
  scale = <Float> // Размер сущности
  entityX = <еденицы_измерения> // Смещение сущности по оси X (влево-вправо)
  entityY = <еденицы_измерения> // Смещение сущности по оси Y (вверх-вниз)
  
  ... // Общие настройки виджетов
}
```

</div>

:::warning Как использовать НИПа/Игрока
На деле всё не так уж и сложно.

---

<div align="left">
- НИПа
  - Для того чтобы использовать НИПа, нужно использовать `npd_ID` (или же переменную, в которую вы
записали НИПа) но указать её нужно в виде Лямбды, т.е. так: `npcID()` (Т.е. если допустим `npcID` -
 это `valera`, но указывать нужно так: `valera()`).
- Игрока
  - Тут немного по другому. Сначала вам нужно получить **Конкретного игрока** (
[Получить игрока](./3-player/0-get_player.mdx) ) и после тоже записать как Лямбда.
</div>
:::

---

<div align="left">

```kts title="Пример"
entity(me().first()) {
  scale = 2.75f
  entityY = 35.px

  offset(100.px, 0.px)
}
```

</div>

<div style={{ "scale": "0.35", "margin": "-27.5%" }}>

![example-entity](@site/static/img/doc/gui/ExampleEntity.png)

</div>

::::

<br />

---

<br />

## Общие настройки виджетов

<br />

::::info Общие настройки виджетов
Здесь расписаны все общие настройки каждого виджета, которые вы можете вставить

### Единицы измерения

:::note Единицы измерения
<div align="left">

> Единицы измерения виджетов:
> - `px` - В пикселях.
>   - Обозначается как `Int.px`.
>   - Пример: `15.px`.
>   - Читается как: `15 пикселей`.
> - `pw` - В процентах от предыдущего виджета.
>   - Обозначается как `Int.pw`.
>   - Пример: `15.pw`.
>   - Читается как: `15% от размера предыдущего виджета`.
> - `ps` - В процентах от размера окна игры.
>   - Обозначается как: `Int.ps`.
>   - Пример: `15.ps`.
>   - Читается как: `15% оот размера окна игры`.
> - `mouse` - Положение курсора.
>   - Обозначается как: `mouse`.
>   - Пример: `mouse`.
>   - Читается как: `Текущее положение миши`.
>   - Примечание: Не нужно писать как `15.mouse`, просто напишите `mouse` и всё.

> - Суммирование значений
>   - Вы можете так же суммировать значения через оператор `+`.
>   - Пример: `15.px + 15.pw + 15.ps + mouse`

</div>
:::

<br />

---

<br />

### Размер виджета

:::note Размер виджета
```kts
size(<еденицы_измерения>, <еденицы_измерения>) // X, Y
```
:::

<br />

### Смещение виджета

:::note Смещение виджета
```kts
offset(<еденицы_измерения>, <еденицы_измерения>) // X, Y
```
:::

<br />

### Смещение виджета от краём элемента

:::note Смещение от краёв элемента
<div align="left">

```kts
padding(
  /*
   * Все параметры опциональны и не требуют обязательного наличия
  */
  
  left = <еденицы_измерения> // От левой границы
  bottom = <еденицы_измерения> // От нижней границы
  top = <еденицы_измерения> // От верхней границы
  right = <еденицы_измерения> // От правой границы
)
```

</div>
:::

<br />

### Выравнивание

:::note Выравнивание
<div align="left">

```kts
align(Alignment.<TYPE>)
/*
 * Выравнивание относительно предыдущего элемента,
 * В который вы вложили этот виджет
*/
```
```kts
/* Параметры метода `align()` */
enum class Alignment {
  /* Всё что написано ниже - ставится за место `<TYPE>` */
  
  TOP_LEFT,      // Сверху слева
  TOP_CENTER,    // Сверху по центру
  TOP_RIGHT,     // Сверху справа
  /* ---- */     // -----------------
  LEFT_CENTER,   // Слева по центру
  CENTER,        // По центру
  RIGHT_CENTER,  // Справа по центру
  /* ---- */     // -----------------
  BOTTOM_LEFT,   // Снизу слева
  BOTTOM_CENTER, // Снизу по центру
  BOTTOM_RIGHT   // Снизу справа
  
}
```

</div>
:::

<br />

### Слой

:::note Слой
<div align="left">

```kts
zLayer = <Int>

enableDepth = <false/true>
/*
 * Нужен для параметра выше.
 * По умолчанию на переднем плане рисуется то, что рисовалось последним.
 * Если включить enableDepth = true, то будет работать zLayer.
*/
```

</div>
:::
::::

</div>

</div>
