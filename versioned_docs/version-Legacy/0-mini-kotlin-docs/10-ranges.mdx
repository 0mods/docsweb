---
sidebar_position: 10
title: Интервалы и диапазоны
id: mkd-ranges
description: 'Работа с числовыми и символьными диапазонами в Kotlin'
---

{/* Спасибо 'dan_bat' за данную страничку :) */}

<div align="center">

# Интервалы в `Kotlin`

---

<br />

:::tip Основная концепция
Интервалы позволяют создавать последовательности значений от начальной до конечной точки. Широко используются в циклах и проверках условий.
:::

<br />

---

<br />

## Создание интервалов

<div align="left">

### Базовый оператор `..`

```kts title="Примеры"
val numbers = 1..5 // 1,2,3,4,5
val letters = 'a'..'d' // a,b,c,d
val reversed = 5.downTo(1) // 5,4,3,2,1
```

### Исключающий диапазон `until`

```kts title="Край не включается"
val days = 1 until 7 // 1,2,3,4,5,6 (7 не входит)
```

### Специальные операторы

```kts title="Комбинирование модификаторов"
val steps = 10 downTo 0 step 2 // 10,8,6,4,2,0
val chars = 'z' downTo 'a' step 3 // z,w,t,q...
```

</div>

<br />

---

<br />

## Проверка вхождения

<div align="left">

```kts title="Операторы in/!in"
val age = 25
println(age in 18..30) // true
println(age !in 0..17) // true

val symbol = 'W'
println(symbol in 'A'..'Z') // true (проверка заглавных букв)
```

</div>

<br />

---

<br />

## Использование в циклах

<div align="left">

### Классический for с шагом

```kts title="Перебор с шагом 3"
for (i in 0..20 step 3) {
    print("$i ") // 0 3 6 9 12 15 18
}
```

### Обратный отсчёт

```kts title="Пример с downTo"
for (num in 5 downTo 1) {
    print("$num ") // 5 4 3 2 1
}
```

### Фильтрация символов

```kts title="Работа с Char диапазонами"
for (letter in 'а'..'е') {
    print("$letter ") // а б в г д е
}
```

</div>

<br />

---

<br />

## Продвинутые сценарии

<div align="left">

### Генерация коллекций

```kts title="Создание списка из диапазона"
val squares = (1..5).map { it * it } // [1, 4, 9, 16, 25]
```

### Проверка пересечения

```kts title="Пример с диапазонами"
val range1 = 10..20
val range2 = 15..25
println(range1.intersect(range2)) // 15..20
```

### Бесконечные последовательности

```kts title="С generateSequence"
val infiniteRange = generateSequence(1) { it + 5 }
infiniteRange.take(5).forEach { print("$it ") } // 1 6 11 16 21
```

</div>

<br />

---

<br />

:::warning Важные нюансы
<div align="left">
1. **Только для Comparable типов**: Int, Long, Char, DateTime и др.
2. **Эксклюзивные диапазоны**: используйте `until` вместо `..` там, где нужно исключить верхнюю границу
3. **Производительность**: диапазоны с `step` создают промежуточные коллекции
4. **Ошибки при обратном шаге**:
</div>
```kts
// Неправильно:
(1..5 step -1) // Вызовет исключение!
// Правильно:
(5 downTo 1 step 1)
```

:::

</div>
