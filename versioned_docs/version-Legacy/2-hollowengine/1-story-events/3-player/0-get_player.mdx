---
sidebar_position: 0

title: Получить игрока
id: get_player
desc: 'NaN'
---

import ToggleText from '@site/src/packs/toggle_text/toggle_text.js';

<div align="center">

# Получить игрока

Теперь любого игрока

![players](@site/static/img/doc/titles/GetPlayer0.webp)

можно затащить в сюжет

---

<br />

<div id="dont-copy">

## Получить игрока(-ов)

<br />

<ToggleText buttonText="Получить всех игроков на сервере">

:::info Всех
Для получения всех игроков, которые находятся на сервере (в мире) - используйте эту переменную
```kts
val <players> by server.players
```
:::

</ToggleText>

<br />

<ToggleText buttonText="Получить конкретных(-ого) игроков(-а)">

:::info Через фильтр
Для получения определённых(-ого) игроков(-а) можно использовать фильтр
```kts
val <players> by server.players.filter { <filter> }
```
<div align="left">

Фильтров много, но расскажу про самый простой:
- Получить игрока с определённым ником:
  ```kts
  it.name.string == "<playerNick>"
  ```

</div>
:::

::::info По уровню [Game-Stage]
:::warning Требуется дополнительный мод
Данный фильтр работает только при установленном моде `GameStage`!
:::

<br />

Для получения списка игроков, который находятся на указаном уровне
```kts
val <players> by server.players.filter { it.hasStage("<Level>") }
```
::::

<br />

::::info Первый в списке
Можно и обойтись простым методом, где просто из всех игроков можно получить **только первого** игрока
```kts
val <players> by server.players
val <player> = players().first()
// или //
val <player> = players()[index]
// где index - это индекс из списка (список, потому что server.player возвращает список) //
```
:::warning Обрати внимание!
Если из `<players>` - мы получали список игроков, состоящий из н кол-ва игроков (т.е. массив),
то после `<player>` (первого варианта) - мы всё равно получаем тоже список, только в списке всего 1 элемент.

По этому если вам нужно получить именно конкретно игрока (как пример для [**цели НИПа**](../0-npcs/2-actions.mdx#атаковать))
нужно использовать `<player>` (второго варианта). Только через него можно получить именно игрока, а не массив.
:::
::::

</ToggleText>

</div>

</div>