---
sidebar_position: 2
---

# Автоматический запуск скрипта.

:::caution Напоминаю
> Скрипты этой категории `Script - MOD` - пишутся в `.mod.kts`!
:::

---

:::note Вы сможете указать какой скрипт запускать, когда игрок заходит в мир
> Работать будет только при первом заходе в мир.

```jsx
import dev.ftb.mods.ftbteams.FTBTeamsAPI
import net.minecraft.server.level.ServerPlayer
import net.minecraft.stats.Stats
import net.minecraftforge.event.entity.player.PlayerEvent.PlayerLoggedInEvent
import ru.hollowhorizon.hollowengine.common.files.DirectoryManager.fromReadablePath
import ru.hollowhorizon.hollowengine.common.scripting.story.runScript
// All the above are necessary imports.

fun onPlayerJoin(event: PlayerLoggedInEvent) { // Function - When a player connects to the world
    val player = event.entity as ServerPlayer // Create a Player variable
    if(player.stats.getValue(Stats.CUSTOM.get(Stats.PLAY_TIME)) == 0) {
        runScript(player.server, FTBTeamsAPI.getPlayerTeam(player), "path/to/script".fromReadablePath()) // Run the specified script
    }
}

FORGE_BUS.register(::onPlayerJoin)
```
> Designations:
> `path/to/script` - Specify the path to the script.
:::

---
