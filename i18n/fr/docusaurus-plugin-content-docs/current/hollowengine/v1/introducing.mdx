---
sidebar_position: 2
---

# 1.0 | Moteur de script | Présentation

## Script engine [KotlinScript](https://github.com/Kotlin/KEEP/blob/master/proposals/scripting-support.md)

HollowCore (auteur : HollowHorizon) a amélioré le moteur de script avec le nom KotlinScript, spécialement écrit pour les usages
avec des mods. KotlinScript - c’est un langage de programmation spécial qui permet de faire des scripts basés sur Kotlin
simplifications.
Par exemple, vous n’avez pas besoin de créer d’autres classes ou méthodes - tout ce que vous écrivez sur un script sera lancé comme une autre méthode.
Cependant, vous pouvez toujours adhérer à tous les principes de l’OLP avec certaines hypothèses.

HollowEngine utilise ce moteur pour créer divers scripts, comprend des dialogues et des événements

## Comment créer un script ?
Tout d’abord, installez le mod et entrez dans le monde.
Ensuite, dans le dossier de jeu (par défaut : `.minecraft`)a été créé un répertoire `hollowengine`.
Dans ce répertoire, vous pouvez créer vos propres scripts.
Je recommande d’allouer des fichiers dans des répertoires différents, par exemple : `hollowengine/scripts/modpack/chapter_1/prologue/...`.

Les noms de fichiers doivent être nommés `name.type.kts`,
où `name` est le nom du script, `type` est le type de script (A propos des types [ici](./scriptfiles))
(chaque type de script a son propre type, ses noms sont dans d’autres sections), `kts` est la fin du script,
il devrait être ainsi appelé.

Après que le lancement sera compilé, il peut prendre de 5 secondes à 3-5 minutes en fonction de la taille du script et des performances du PC.
Après la première compilation, les scripts sont mis en cache et exécutés instantanément.
Lorsque vous modifiez le script et l’exécutez à nouveau, le script est compilé à nouveau.

Il est recommandé de distribuer les fichiers dans différents dossiers en utilisant des paquets au début du script, à partir du dossier d’origine.
Il est important que vos scripts soient moins en conflit avec les autres, ainsi que lors de l’écriture de bibliothèques.
(Mais je ne recommanderai pas de combiner plusieurs scénarios...)
Les noms de fichiers doivent être `name.type.kts`, où name est le nom du script,
type est le type de script (chaque type de script a son propre type), kts est la fin du script.
Après l’exécution du script, il est compilé, ce qui peut prendre de 5 secondes à plusieurs minutes, en fonction de la taille du script et des performances du PC.
Après la première compilation, les scripts sont mis en cache et exécutés instantanément, et lorsque vous modifiez le script et redémarrez, il est compilé à nouveau.

## Sound events and voiceover

Pour jouer du son, il suffit d’écrire: `play("son")` - où le "son" est la façon de sonner,
ajouter de nouveaux sons peut-être via des packs de ressources ou mod-loaders.
Par exemple:
```kotlin
play("minecraft:ambient.basalt_deltas.additions")
```
ou
```kotlin
play("mymod:rickroll")
```

## Problèmes connus
- Le moteur de script ne fonctionne pas sur tous les lanceurs de minecraft.
    - En ce moment, le travail du moteur accordé dans les prochains lanceurs:
        - Lanceur officiel
        - TLauncher
        - Legacy Launcher (plus tard: TL Launcher)
    - Ne fonctionne pas avec:
        - Modrinth Launcher
- ~~Lorsque vous utilisez les classes de jeu dans le code, toutes les variables et méthodes sont obscurcies,
c.-à-d., au lieu du conditionnel `Minecraft.getInstance().setScreen(...)`
avoir à écrire `Minecraft.func_71410_x().func_147108_a(...)`, il ne sera pas possible d’y remédier dans les prochaines semaines,
parce que vous devrez réécrire sérieusement le compilateur Kotlin.~~
  - Corrigé dans la construction automatique.
- Mod n’est pas testé sur le serveur, donc cela doit être pris en compte dans le développement, car je n’ai pas encore écrit de compatibilité, mais théoriquement, tout devrait fonctionner.
Gardez simplement à l’esprit que les boîtes de dialogue sont côté client et les événements côté serveur.