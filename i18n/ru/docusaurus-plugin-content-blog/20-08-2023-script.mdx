---
slug: animation-script
title: Original Version script
authors: [hollow]
tags: [scripts]
---

Какой-то скрипт, где нпс подходит к игроку, чёта говорит и идёт куда-то, включает анимацию и уходит

```kotlin
import net.minecraft.core.BlockPos
import ru.hollowhorizon.hc.client.gltf.animations.PlayType

//Создаём нового NPC
val npc = NPCEntity.getOrCreate(
    NPCSettings("Виталик", "hollowengine:models/entity/player_model.gltf"),
    SpawnLocation(
        pos = BlockPos(2, -60, 1)
    )
)

//Новая задача, идти к ближайшему игроку в команде
npc.makeTask {
    movement.go(team).await() //await() значит что код дальше не пойдёт, пока npc не достигнет цели
}

npc say "Привет)"

npc.makeTask {
    movement.go(2, -60, 1).await() //await() значит что код дальше не пойдёт, пока npc не достигнет цели
}
npc.makeTask {
    look.at(2, -60, 1).await() //await() значит что код дальше не пойдёт, пока npc не достигнет цели
}

npc say "Ха, я умею анимироваться"

npc.play("animation.npcsteve.happy", playType = PlayType.LOOPED)

wait(1.5f)

npc stop "animation.npcsteve.happy"

npc say "Ну всё, пока!"

//Новая задача, избегать всех игроков в команде
npc.makeTask {
    movement.avoid(team)
        .async() //async() значит что задача будет выполняться ассинхронно (код продолжит идти дальше, даже если цель не достигнута)
}
wait(10f)
```